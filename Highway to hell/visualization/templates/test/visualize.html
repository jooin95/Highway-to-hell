{% extends "layoutFull/layout.html" %}
{% load staticfiles %}
{% block css %}
<!--<link rel="stylesheet" href="{% static 'libs/bootstrap-daterangepicker/daterangepicker.css' %}" />-->
<!--<link rel="stylesheet" href="{% static 'libs/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css' %}" />-->
<link rel="stylesheet" href="{% static 'libs/bootstrap/css/bootstrap.min.css' %}"/>
<link rel="stylesheet" href="{% static 'admin/process_rt_monitoring/css/bootstrap-toggle.css' %}"/>
<link rel="stylesheet" href="{% static 'admin/process_rt_monitoring/css/loading.css' %}"/>
<link rel="stylesheet" href="{% static 'admin/process_rt_monitoring/css/style.css' %}"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.min.css"/>
<script src="https://d3js.org/d3.v3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.min.js"></script>
{% endblock %}
{% block content %}
<section class="content-header">
        <h1>
            사용자 정보 입력
        </h1>
    </section>
<section class="content">
    <!-- Default box -->
    <div class="box" id="graphArea">
        <div class="box-body">
            <form method="post" id="formTest" action="{% url 'visualize' %}" class="form-horizontal">
                {% csrf_token %}
                {% include 'test/analysis2.html' %}
            </form>
        </div>
        <p id="data" data="{{data_list}}"></p>
        <script src="{% static 'js/jquery-3.4.0.min.js' %}"></script>
        <script>
            data = form.find("#data").attr('data');
            var Data1 = JSON.parse(data['data1']);
            var Data2 = JSON.parse(data['data2']);
            var place1X = Data1['places'][0]['x'];
            var place1Y = Data1['places'][0]['y'];
            var place2X = Data2['places'][0]['x'];
            var place2Y = Data2['places'][0]['y'];
            var startDate = data['startDate'];
            playAlert = setInterval(function () {
                $.ajax({
                url: '/vis/test_visualize/',
                method: 'POST',
                dataType: 'json',
                data: {"place1X":place1X, "place1Y":place1Y, "place2X":place2X, "place2Y":place2Y, "startDate":startDate},
                beforeSend: function () {
                },
                success: function (data) {
                    console.log(data);
                }
            },5000);
        </script>
        <div class="charts"></div>
    </div>
</section>}
{% endblock content %}
{% block js %}
<!-- bakit's 라이브러리-->
<!-- bakit's 라이브러리
<script src="{% static 'js/test.js' %}"></script>-->
<script src="https://code.jquery.com/jquery-2.2.4.js"></script>>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
<script src="https://www.chartjs.org/samples/latest/utils.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/js/bootstrap-datetimepicker.min.js"></script>
<script src="{% static 'libs/bootstrap-daterangepicker/daterangepicker.js' %}"></script>
<script src="{% static 'libs/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js' %}"></script>
    <!-- Optional theme -->
<script src="{% static 'libs/bootstrap-daterangepicker/daterangepicker.js' %}"></script>
<script src="{% static 'libs/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js' %}"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="{% static 'libs/iCheck/icheck.min.js' %}"></script>
<script src="{% static 'admin/process_rt_monitoring/js/app.js' %}?ver=9"></script>
{% endblock js %}
